import{r,b as x}from"./react.96fb3fa0.js";import{y as F,i as ae,g as ce,m as le,T as Le,C as R,z as Be,E as $e,G as Re,H as Oe,b,o as K,R as Q,r as Ie,V as De,w as ze,W as Z}from"./index.da61cd87.js";import{l as W}from"./lodash.2667a9b6.js";import{D as Fe}from"./index.7cf42677.js";import"./markmap.f7526f2f.js";function ee(t){let n;const s=o=>()=>{n=null,t.apply(void 0,ae(o))},e=function(){if(n==null){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n=F(s(i))}};return e.cancel=()=>{F.cancel(n),n=null},e}const He=t=>{const{componentCls:n}=t;return{[n]:{position:"fixed",zIndex:t.zIndexPopup}}};var Me=ce("Affix",t=>{const n=le(t,{zIndexPopup:t.zIndexBase+10});return[He(n)]});function z(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function te(t,n,s){if(s!==void 0&&n.top>t.top-s)return s+n.top}function ne(t,n,s){if(s!==void 0&&n.bottom<t.bottom+s){const e=window.innerHeight-n.bottom;return s+e}}const fe=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];let $=[];function oe(t,n){if(!t)return;let s=$.find(e=>e.target===t);s?s.affixList.push(n):(s={target:t,affixList:[n],eventHandlers:{}},$.push(s),fe.forEach(e=>{s.eventHandlers[e]=Le(t,e,()=>{s.affixList.forEach(o=>{o.lazyUpdatePosition()})})}))}function se(t){const n=$.find(s=>{const e=s.affixList.some(o=>o===t);return e&&(s.affixList=s.affixList.filter(o=>o!==t)),e});n&&n.affixList.length===0&&($=$.filter(s=>s!==n),fe.forEach(s=>{const e=n.eventHandlers[s];e&&e.remove&&e.remove()}))}function Ue(){return typeof window!="undefined"?window:null}var N;(function(t){t[t.None=0]="None",t[t.Prepare=1]="Prepare"})(N||(N={}));let de=function(t){Be(s,t);var n=$e(s);function s(){var e;return Re(this,s),e=n.apply(this,arguments),e.state={status:N.None,lastAffix:!1,prevTarget:null},e.getOffsetTop=()=>{const{offsetBottom:o,offsetTop:i}=e.props;return o===void 0&&i===void 0?0:i},e.getOffsetBottom=()=>e.props.offsetBottom,e.savePlaceholderNode=o=>{e.placeholderNode=o},e.saveFixedNode=o=>{e.fixedNode=o},e.measure=()=>{const{status:o,lastAffix:i}=e.state,{onChange:a}=e.props,f=e.getTargetFunc();if(o!==N.Prepare||!e.fixedNode||!e.placeholderNode||!f)return;const m=e.getOffsetTop(),h=e.getOffsetBottom(),u=f();if(!u)return;const l={status:N.None},g=z(u),p=z(e.placeholderNode),y=te(p,g,m),v=ne(p,g,h);p.top===0&&p.left===0&&p.width===0&&p.height===0||(y!==void 0?(l.affixStyle={position:"fixed",top:y,width:p.width,height:p.height},l.placeholderStyle={width:p.width,height:p.height}):v!==void 0&&(l.affixStyle={position:"fixed",bottom:v,width:p.width,height:p.height},l.placeholderStyle={width:p.width,height:p.height}),l.lastAffix=!!l.affixStyle,a&&i!==l.lastAffix&&a(l.lastAffix),e.setState(l))},e.prepareMeasure=()=>{e.setState({status:N.Prepare,affixStyle:void 0,placeholderStyle:void 0});{const{onTestUpdatePosition:o}=e.props;o==null||o()}},e.updatePosition=ee(()=>{e.prepareMeasure()}),e.lazyUpdatePosition=ee(()=>{const o=e.getTargetFunc(),{affixStyle:i}=e.state;if(o&&i){const a=e.getOffsetTop(),f=e.getOffsetBottom(),m=o();if(m&&e.placeholderNode){const h=z(m),u=z(e.placeholderNode),l=te(u,h,a),g=ne(u,h,f);if(l!==void 0&&i.top===l||g!==void 0&&i.bottom===g)return}}e.prepareMeasure()}),e}return Oe(s,[{key:"getTargetFunc",value:function(){const{getTargetContainer:o}=this.context,{target:i}=this.props;return i!==void 0?i:o!=null?o:Ue}},{key:"componentDidMount",value:function(){const o=this.getTargetFunc();o&&(this.timeout=setTimeout(()=>{oe(o(),this),this.updatePosition()}))}},{key:"componentDidUpdate",value:function(o){const{prevTarget:i}=this.state,a=this.getTargetFunc(),f=(a==null?void 0:a())||null;i!==f&&(se(this),f&&(oe(f,this),this.updatePosition()),this.setState({prevTarget:f})),(o.offsetTop!==this.props.offsetTop||o.offsetBottom!==this.props.offsetBottom)&&this.updatePosition(),this.measure()}},{key:"componentWillUnmount",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),se(this),this.updatePosition.cancel(),this.lazyUpdatePosition.cancel()}},{key:"render",value:function(){const{affixStyle:o,placeholderStyle:i}=this.state,{affixPrefixCls:a,rootClassName:f,children:m}=this.props,h=b({[f]:!!o,[a]:!!o});let u=K(this.props,["prefixCls","offsetTop","offsetBottom","target","onChange","affixPrefixCls","rootClassName"]);return u=K(u,["onTestUpdatePosition"]),r.exports.createElement(Q,{onResize:this.updatePosition},r.exports.createElement("div",Object.assign({},u,{ref:this.savePlaceholderNode}),o&&r.exports.createElement("div",{style:i,"aria-hidden":"true"}),r.exports.createElement("div",{className:h,ref:this.saveFixedNode,style:o},r.exports.createElement(Q,{onResize:this.updatePosition},m))))}}]),s}(r.exports.Component);de.contextType=R;const ue=r.exports.forwardRef((t,n)=>{const{prefixCls:s}=t,{getPrefixCls:e}=r.exports.useContext(R),o=e("affix",s),[i,a]=Me(o),f=Object.assign(Object.assign({},t),{affixPrefixCls:o,rootClassName:a});return i(r.exports.createElement(de,Object.assign({},f,{ref:n})))});ue.displayName="Affix";var je=ue;function G(t){return t!=null&&t===t.window}function pe(t,n){var s,e;if(typeof window=="undefined")return 0;const o=n?"scrollTop":"scrollLeft";let i=0;return G(t)?i=t[n?"pageYOffset":"pageXOffset"]:t instanceof Document?i=t.documentElement[o]:(t instanceof HTMLElement||t)&&(i=t[o]),t&&!G(t)&&typeof i!="number"&&(i=(e=((s=t.ownerDocument)!==null&&s!==void 0?s:t).documentElement)===null||e===void 0?void 0:e[o]),i}function We(t,n,s,e){const o=s-n;return t/=e/2,t<1?o/2*t*t*t+n:o/2*((t-=2)*t*t+2)+n}function Ge(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:s=()=>window,callback:e,duration:o=450}=n,i=s(),a=pe(i,!0),f=Date.now(),m=()=>{const u=Date.now()-f,l=We(u>o?o:u,a,t,o);G(i)?i.scrollTo(window.pageXOffset,l):i instanceof Document||i.constructor.name==="HTMLDocument"?i.documentElement.scrollTop=l:i.scrollTop=l,u<o?F(m):typeof e=="function"&&e()};F(m)}const Xe=r.exports.createContext(void 0);var me=Xe;const qe=t=>{const{href:n="#",title:s,prefixCls:e,children:o,className:i,target:a}=t,f=r.exports.useContext(me),{registerLink:m,unregisterLink:h,scrollTo:u,onClick:l,activeLink:g}=f||{};r.exports.useEffect(()=>(m==null||m(n),()=>{h==null||h(n)}),[n,m,h]);const p=O=>{l==null||l(O,{title:s,href:n}),u==null||u(n)},{getPrefixCls:y}=r.exports.useContext(R),v=y("anchor",e),C=b(`${v}-link`,i,{[`${v}-link-active`]:g===n}),S=b(`${v}-link-title`,{[`${v}-link-title-active`]:g===n});return r.exports.createElement("div",{className:C},r.exports.createElement("a",{className:S,href:n,title:typeof s=="string"?s:"",target:a,onClick:p},s),o)};var he=qe;const Ve=t=>{const{componentCls:n,holderOffsetBlock:s,motionDurationSlow:e,lineWidthBold:o,colorPrimary:i}=t;return{[`${n}-wrapper`]:{marginBlockStart:-s,paddingBlockStart:s,backgroundColor:"transparent",[n]:Object.assign(Object.assign({},Ie(t)),{position:"relative",paddingInlineStart:o,[`${n}-ink`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,height:"100%","&::before":{position:"relative",display:"block",width:o,height:"100%",margin:"0 auto",backgroundColor:t.colorSplit,content:'" "'}},[`${n}-ink-ball`]:{position:"absolute",left:{_skip_check_:!0,value:0},display:"none",transform:"translateY(-50%)",transition:`top ${e} ease-in-out`,width:o,backgroundColor:i,[`&${n}-ink-ball-visible`]:{display:"inline-block"}},[`${n}-link`]:{paddingBlock:t.anchorPaddingBlock,paddingInline:`${t.anchorPaddingInline}px 0`,"&-title":Object.assign(Object.assign({},De),{position:"relative",display:"block",marginBlockEnd:t.anchorTitleBlock,color:t.colorText,transition:`all ${t.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${n}-link-title`]:{color:t.colorPrimary},[`${n}-link`]:{paddingBlock:t.anchorPaddingBlockSecondary}}}),[`${n}-fixed ${n}-ink ${n}-ink-ball`]:{display:"none"}}}};var Ye=ce("Anchor",t=>{const{fontSize:n,fontSizeLG:s,padding:e,paddingXXS:o}=t,i=le(t,{holderOffsetBlock:o,anchorPaddingBlock:o,anchorPaddingBlockSecondary:o/2,anchorPaddingInline:e,anchorTitleBlock:n/14*3,anchorBallSize:s/2});return[Ve(i)]});function Je(){return window}function ie(t,n){if(!t.getClientRects().length)return 0;const s=t.getBoundingClientRect();return s.width||s.height?n===window?(n=t.ownerDocument.documentElement,s.top-n.clientTop):s.top-n.getBoundingClientRect().top:s.top}const re=/#([\S ]+)$/,Ke=t=>{var n;const{rootClassName:s,anchorPrefixCls:e,className:o="",style:i,offsetTop:a,affix:f=!0,showInkInFixed:m=!1,children:h,items:u,bounds:l,targetOffset:g,onClick:p,onChange:y,getContainer:v,getCurrentAnchor:C}=t;ze(!h,"Anchor","`Anchor children` is deprecated. Please use `items` instead.");const[S,O]=r.exports.useState([]),[P,Ce]=r.exports.useState(null),H=r.exports.useRef(P),X=r.exports.useRef(null),I=r.exports.useRef(null),M=r.exports.useRef(!1),{direction:ye,getTargetContainer:ke}=r.exports.useContext(R),_=(n=v!=null?v:ke)!==null&&n!==void 0?n:Je,A=JSON.stringify(S),Te=r.exports.useCallback(c=>{S.includes(c)||O(d=>[].concat(ae(d),[c]))},[A]),we=r.exports.useCallback(c=>{S.includes(c)&&O(d=>d.filter(L=>L!==c))},[A]),Se=()=>{var c;const d=(c=X.current)===null||c===void 0?void 0:c.querySelector(`.${e}-link-title-active`);d&&I.current&&(I.current.style.top=`${d.offsetTop+d.clientHeight/2}px`,I.current.style.height=`${d.clientHeight}px`)},Ee=function(c){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const E=[],D=_();return c.forEach(w=>{const k=re.exec(w==null?void 0:w.toString());if(!k)return;const B=document.getElementById(k[1]);if(B){const J=ie(B,D);J<d+L&&E.push({link:w,top:J})}}),E.length?E.reduce((k,B)=>B.top>k.top?B:k).link:""},U=c=>{if(H.current===c)return;const d=typeof C=="function"?C(c):c;Ce(d),H.current=d,y==null||y(c)},j=r.exports.useCallback(()=>{if(M.current||typeof C=="function")return;const c=Ee(S,g!==void 0?g:a||0,l);U(c)},[A,g,a]),q=r.exports.useCallback(c=>{U(c);const d=_(),L=pe(d,!0),E=re.exec(c);if(!E)return;const D=document.getElementById(E[1]);if(!D)return;const w=ie(D,d);let k=L+w;k-=g!==void 0?g:a||0,M.current=!0,Ge(k,{getContainer:_,callback(){M.current=!1}})},[g,a]),Ne=b({[`${e}-ink-ball-visible`]:P},`${e}-ink-ball`),be=b(s,`${e}-wrapper`,{[`${e}-rtl`]:ye==="rtl"},o),Pe=b(e,{[`${e}-fixed`]:!f&&!m}),_e=Object.assign({maxHeight:a?`calc(100vh - ${a}px)`:"100vh"},i),V=c=>Array.isArray(c)?c.map(d=>r.exports.createElement(he,Object.assign({},d,{key:d.key}),V(d.children))):null,Y=r.exports.createElement("div",{ref:X,className:be,style:_e},r.exports.createElement("div",{className:Pe},r.exports.createElement("div",{className:`${e}-ink`},r.exports.createElement("span",{className:Ne,ref:I})),"items"in t?V(u):h));r.exports.useEffect(()=>{const c=_();return j(),c==null||c.addEventListener("scroll",j),()=>{c==null||c.removeEventListener("scroll",j)}},[A]),r.exports.useEffect(()=>{typeof C=="function"&&U(C(H.current||""))},[C]),r.exports.useEffect(()=>{Se()},[C,A,P]);const Ae=r.exports.useMemo(()=>({registerLink:Te,unregisterLink:we,scrollTo:q,activeLink:P,onClick:p}),[P,p,q]);return r.exports.createElement(me.Provider,{value:Ae},f?r.exports.createElement(je,{offsetTop:a,target:_},Y):Y)},ge=t=>{const{prefixCls:n}=t,{getPrefixCls:s}=r.exports.useContext(R),e=s("anchor",n),[o,i]=Ye(e);return o(r.exports.createElement(Ke,Object.assign({},t,{rootClassName:i,anchorPrefixCls:e})))};ge.displayName="Anchor";var Qe=ge;const xe=Qe;xe.Link=he;var ve=xe;const Ze=new URL("/assets/avatar.d0686986.jpg",self.location);function et(t){const{src:n,defaultSrc:s=Ze.href,...e}=t,o=x.useRef(null);return r.exports.useEffect(()=>{const{current:i}=o;if(i){const a=new Image;a.onload=()=>{i.src=n},n&&(a.src=n)}},[n]),x.createElement("img",{ref:o,src:s,...e})}const tt="_site_16y90_1",nt="_category_16y90_9",ot="_content_16y90_21",st="_item_16y90_25",it="_img_16y90_36",rt="_title_16y90_45",at="_search_16y90_53",ct="_left_16y90_56",lt="_anchor_16y90_59";var T={site:tt,category:nt,content:ot,item:st,img:it,title:rt,search:at,left:ct,anchor:lt};const{Link:ft}=ve;function gt(){const t=r.exports.useRef(null),n=(s,e)=>{s.preventDefault();const o=t.current,i=document.querySelector(`#${e.href}`);o&&i&&(o.scrollTop=i.offsetTop)};return x.createElement("div",{className:T.site,ref:t},x.createElement("div",{className:T.left},W.exports.map(Z,s=>x.createElement("div",{className:T.category,key:s.id,id:s.id},x.createElement(Fe,{orientation:"left"},s.title),x.createElement("div",{className:T.content},W.exports.map(s.children,e=>x.createElement("a",{href:e.href,key:e.id,className:T.item,target:"_blank",rel:"noreferrer"},x.createElement(et,{src:e.icon||"",className:T.img}),x.createElement("div",{className:T.title},e.title)))))),x.createElement(ve,{affix:!1,onClick:n,className:T.anchor},W.exports.map(Z,s=>x.createElement(ft,{href:`${s.id}`,title:s.title,key:s.id})))))}export{gt as default};
